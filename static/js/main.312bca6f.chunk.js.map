{"version":3,"sources":["recoil/store.js","recoil/hooks.js","react/EditAPIKeyDialog.react.js","react/StockSearchInput.react.js","data/useFetchStockData.js","react/App.js","reportWebVitals.js","index.js"],"names":["APIKeyAtom","atom","key","default","localStorage","getItem","StockDataAtom","useAPIKey","useRecoilValue","store","useSetAPIKey","setAPIKey","useSetRecoilState","apiKey","setItem","EditAPIKeyDialog","setKey","useState","text","setText","isShown","Pane","Dialog","title","confirmLabel","intent","hasClose","hasCancel","shouldCloseOnOverlayClick","shouldCloseOnEscapePress","isConfirmDisabled","onConfirm","close","href","marginTop","TextInput","placeholder","onChange","e","target","value","required","StockSearchInput","q","setQ","error","setError","fetchStockData","stock","ticker","toUpperCase","url","URLSearchParams","function","symbol","apikey","fetch","then","response","json","useFetchStockData","setStockData","width","paddingTop","paddingBottom","display","flexDirection","alignItems","Button","appearance","onClick","series","Error","JSON","stringify","Object","keys","map","k","date","Date","parseResponse","catch","toString","App","stockData","height","padding","elevation","flex","Text","AppWrapper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.312bca6f.chunk.js","sourcesContent":["import {atom} from 'recoil';\n\nexport const APIKeyAtom = atom({\n    key: 'Store.APIKey',\n    default: localStorage.getItem('APIKey') ?? null,\n});\n\nexport const StockDataAtom = atom({\n    key: 'Store.StockData',\n    default: null,\n})","import * as store from './store';\nimport {useRecoilValue, useSetRecoilState} from 'recoil';\n\nexport const useAPIKey = () => useRecoilValue(store.APIKeyAtom);\nexport const useSetAPIKey = () => {\n    const setAPIKey = useSetRecoilState(store.APIKeyAtom);\n    return (apiKey) => {\n        try {\n            setAPIKey(apiKey);\n            localStorage.setItem('APIKey', apiKey);\n        } catch {\n            // ignore\n        }\n    }\n}\n\nexport const useStockData = () => useRecoilValue(store.StockDataAtom);\nexport const useSetStockData = () => useSetRecoilState(store.StockDataAtom);","import {useState} from 'react';\nimport {useAPIKey, useSetAPIKey} from '../recoil/hooks';\nimport {Pane, Dialog, TextInput} from 'evergreen-ui'\n\nexport default function EditAPIKeyDialog() {\n  const key = useAPIKey();\n  const setKey = useSetAPIKey();\n  const [text, setText] = useState(key ?? '');\n  const isShown = key == null;\n  return (\n    <Pane>\n      <Dialog\n        isShown={isShown}\n        title=\"Set an AlphaVantage API Key\"\n        confirmLabel=\"Update API Key\"\n        intent=\"success\"\n        hasClose={false}\n        hasCancel={false}\n        shouldCloseOnOverlayClick={false}\n        shouldCloseOnEscapePress={false}\n        isConfirmDisabled={text == null || text === ''}\n        onConfirm={(close) => {\n          setKey(text);\n          close();\n        }}\n      >\n      <Pane>\n      This application uses AlphaVantage to retrieve stock data and you must use your personal AlphaVantage API key.\n      This application has no backend and there's no way for us to see this :)\n      You can get your AlphaAPI Key from <a href=\"https://alphavantage.co\">here</a>.\n      </Pane>\n      <Pane marginTop={16}>\n      <TextInput\n        placeholder=\"Your API Key\"\n        onChange={e => setText(e.target.value)}\n        required={true}\n        value={text} />\n      </Pane>\n      </Dialog>\n    </Pane>\n  )\n}","import {TextInput, Button, Pane} from 'evergreen-ui';\nimport {useState} from 'react';\nimport useFetchStockData from '../data/useFetchStockData';\nimport {useSetStockData} from '../recoil/hooks';\n\nexport default function StockSearchInput() {\n    const [q, setQ] = useState('');\n    const [error, setError] = useState(null);\n    const fetchStockData = useFetchStockData();\n    const setStockData = useSetStockData();\n    const handleChange = e => {\n        const value = e.target.value;\n        setQ(value);\n    }\n    const handleClick = () => {\n        setError(false);\n        fetchStockData(q).then(json => {\n            setStockData(parseResponse(json));\n        }).catch(e => {\n            setError(e.toString());\n        });\n    }\n    return (\n        <Pane width=\"100%\" paddingTop={8} paddingBottom={8} display=\"flex\" flexDirection=\"column\" alignItems=\"flex-end\">\n            <TextInput value={q} onChange={handleChange} placeholder=\"Example: HDFCBANK\" width=\"100%\" />\n            <Button marginTop={4} appearance=\"primary\" onClick={handleClick}>Submit</Button>\n            {error && <p>Error: {error}</p>}\n        </Pane>\n    );\n}\n\nfunction parseResponse(response) {\n    const series = response['Monthly Time Series'];\n    if (!series) {\n        throw(new Error(`Invalid Response - ${JSON.stringify(response)}`))\n    }\n    return Object.keys(series).map(k => ({date: new Date(k), close: series[k]['4. close']}));\n}","import {useAPIKey} from '../recoil/hooks';\n\nconst BASE_URI = 'https://www.alphavantage.co/query?';\nconst FUNCTION = 'TIME_SERIES_MONTHLY';\n\nexport default function useFetchStockData() {\n    const apiKey = useAPIKey();\n    return (stock) => {\n        const ticker = `${stock}.BO`.toUpperCase();\n        const url = BASE_URI + new URLSearchParams({\n            function: FUNCTION,\n            symbol: ticker,\n            apikey: apiKey,\n        });\n        return fetch(url, {}).then(response => response.json());\n    }\n}","import '../css/App.css';\nimport EditAPIKeyDialog from './EditAPIKeyDialog.react';\nimport StockSearchInput from './StockSearchInput.react';\nimport {RecoilRoot} from 'recoil';\nimport {useSetAPIKey, useStockData} from '../recoil/hooks';\nimport {Pane, Text, Button} from 'evergreen-ui'\n\nfunction App() {\n  const setAPIKey = useSetAPIKey();\n  const stockData = useStockData();\n  return (\n    <Pane display=\"flex\" height=\"100vh\">\n      <Pane width={300} height=\"100vh\" display=\"flex\" flexDirection=\"column\" padding={16} elevation={1}>\n        <Pane flex={1}>\n          <Text>Enter a stock to plot:</Text>\n          <StockSearchInput />\n        </Pane>\n        <Button height={48} onClick={() => setAPIKey()}>Reset API Key</Button>\n      </Pane>\n      <Pane flex={1} height=\"100vh\">\n        <pre>\n          {JSON.stringify(stockData, null, 2)}\n        </pre>\n      </Pane>\n      <EditAPIKeyDialog />\n    </Pane>\n  );\n}\n\n\nfunction AppWrapper() {\nreturn <RecoilRoot><App/></RecoilRoot>;\n}\n\nexport default AppWrapper;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './react/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}